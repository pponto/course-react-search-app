(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{42:function(e,t,a){e.exports=a(66)},47:function(e,t,a){},66:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(32),o=a.n(r),s=(a(47),a(11)),i=a(12),l=a(14),u=a(13),h=a(15),m=a(2),b=a(10),v=a(17),f=a(19),p=a(23),d=a(69),S=a(70),j=a(25),y=function(e){var t=e.onClick,a=e.children,n=e.className,r=void 0===n?"":n;return c.a.createElement("button",{className:r,onClick:t},a)};y.defaultProps={className:""};var O=function(){return c.a.createElement("div",null,c.a.createElement("h2",null,"Loading..."))},E=function(e){var t=e.sortKey,a=e.onSort,n=e.children,r=(e.className,e.activeSortKey),o=["btn btn-secondary"];return t===r&&o.push("btn btn-primary"),c.a.createElement(y,{className:o,onClick:function(){return a(t)}},n)},g={NONE:function(e){return e},TITLE:function(e){return Object(j.sortBy)(e,"title")},AUTHOR:function(e){return Object(j.sortBy)(e,"author")},COMMENTS:function(e){return Object(j.sortBy)(e,"num_comments").reverse()},POINTS:function(e){return Object(j.sortBy)(e,"points").reverse()}},T=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={sortKey:"NONE",isSortReverse:!1},a.onSort=a.onSort.bind(Object(m.a)(Object(m.a)(a))),a}return Object(h.a)(t,e),Object(i.a)(t,[{key:"onSort",value:function(e){var t=this.state.sortKey===e&&!this.state.isSortReverse;this.setState({sortKey:e,isSortReverse:t})}},{key:"render",value:function(){var e=this.props,t=e.list,a=e.removeItem,n=this.state,r=n.sortKey,o=n.isSortReverse,s=g[r](t),i=o?s.reverse():s;return c.a.createElement("div",{className:"col-sm-10 col-sm-offset-1"},c.a.createElement("div",{className:"text-center"},c.a.createElement("hr",null),c.a.createElement(E,{className:"btn btn-xs btn-secondary sortBtn",sortKey:"NONE",onSort:this.onSort,activeSortKey:r},"Default"),c.a.createElement(E,{className:"btn btn-xs btn-secondary sortBtn",sortKey:"TITLE",onSort:this.onSort,activeSortKey:r},"Title"),c.a.createElement(E,{className:"btn btn-xs btn-secondary sortBtn",sortKey:"AUTHOR",onSort:this.onSort,activeSortKey:r},"Author"),c.a.createElement(E,{className:"btn btn-xs btn-secondary sortBtn",sortKey:"COMMENTS",onSort:this.onSort,activeSortKey:r},"Comments"),c.a.createElement(E,{className:"btn btn-xs btn-secondary sortBtn",sortKey:"POINTS",onSort:this.onSort,activeSortKey:r},"Points"),c.a.createElement("hr",null)),i.map(function(e){return c.a.createElement("div",{key:e.objectID},c.a.createElement("h1",null,c.a.createElement("a",{href:e.url},e.title)),c.a.createElement("h4",null,e.author," | ",e.num_comments," Comments | ",e.points," Points",c.a.createElement(y,{className:"btn btn-xs btn-secondary",type:"button",onClick:function(){return a(e.objectID)}},"Remove"))," ",c.a.createElement("hr",null))}))}}]),t}(n.Component),k=a(75),N=function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.input.focus()}},{key:"render",value:function(){var e=this,t=this.props,a=t.onChange,n=t.value,r=t.children,o=t.onSubmit;return c.a.createElement("form",{onSubmit:o},c.a.createElement(k.a,null,c.a.createElement("h1",{style:{fontWeight:"bold"}},r),c.a.createElement("hr",{style:{border:"2px solid black",width:"100px"}}),c.a.createElement("div",{className:"input-group"},c.a.createElement("input",{className:"form-control width100 searchForm",type:"text",onChange:a,value:n,ref:function(t){e.input=t}}),c.a.createElement("span",{className:"input-group-btn"},c.a.createElement(y,{className:"btn btn-primary searchBtn",type:"submit"},"Search")))))}}]),t}(n.Component),K="react",L="https://hn.algolia.com/api/v1",w="hitsPerPage=",I="".concat(L).concat("/search","?").concat("query=").concat(K,"\n            &").concat("page=","&").concat(w).concat(100);console.log(I);var C,x=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={results:null,searchKey:"",searchTerm:K,isLoading:!1},a.removeItem=a.removeItem.bind(Object(m.a)(Object(m.a)(a))),a.searchValue=a.searchValue.bind(Object(m.a)(Object(m.a)(a))),a.fetchTopStories=a.fetchTopStories.bind(Object(m.a)(Object(m.a)(a))),a.setTopStories=a.setTopStories.bind(Object(m.a)(Object(m.a)(a))),a.onSubmit=a.onSubmit.bind(Object(m.a)(Object(m.a)(a))),a}return Object(h.a)(t,e),Object(i.a)(t,[{key:"checkTopStoriesSearchTerm",value:function(e){return!this.state.results[e]}},{key:"setTopStories",value:function(e){var t=e.hits,a=e.page;this.setState(function(e,t){return function(a){var n=a.searchKey,c=a.results,r=c&&c[n]?c[n].hits:[],o=[].concat(Object(f.a)(r),Object(f.a)(e));return{results:Object(v.a)({},c,Object(b.a)({},n,{hits:o,page:t})),isLoading:!1}}}(t,a))}},{key:"fetchTopStories",value:function(e,t){var a=this;this.setState({isLoading:!0}),fetch("".concat(L).concat("/search","?").concat("query=").concat(e,"\n      &").concat("page=").concat(t,"&").concat(w).concat(100)).then(function(e){return e.json()}).then(function(e){return a.setTopStories(e)}).catch(function(e){return e})}},{key:"componentDidMount",value:function(){var e=this.state.searchTerm;this.setState({searchKey:e}),this.fetchTopStories(e,0)}},{key:"onSubmit",value:function(e){var t=this.state.searchTerm;this.setState({searchKey:t}),this.checkTopStoriesSearchTerm(t)&&this.fetchTopStories(this.state.searchTerm,0),e.preventDefault()}},{key:"removeItem",value:function(e){var t=this.state,a=t.results,n=t.searchKey,c=a[n],r=c.hits,o=c.page,s=r.filter(function(t){return t.objectID!==e});this.setState({results:Object(v.a)({},a,Object(b.a)({},n,{hits:s,page:o}))})}},{key:"searchValue",value:function(e){this.setState({searchTerm:e.target.value})}},{key:"render",value:function(){var e=this,t=this.state,a=t.results,n=t.searchTerm,r=t.searchKey,o=t.isLoading,s=a&&a[r]&&a[r].page||0,i=a&&a[r]&&a[r].hits||[];return console.log(this),c.a.createElement("div",null,c.a.createElement(d.a,{fluid:!0},c.a.createElement(S.a,null,c.a.createElement("div",{className:"jumbotron text-center"},c.a.createElement(N,{onChange:this.searchValue,value:n,onSubmit:this.onSubmit},"NEWSAPP")))),c.a.createElement(d.a,null,c.a.createElement(S.a,null,c.a.createElement(T,{list:i,removeItem:this.removeItem}),c.a.createElement("div",{className:"text-center alert"},c.a.createElement(B,{isLoading:o,className:"btn btn-success",onClick:function(){return e.fetchTopStories(n,s+1)}},"Load more")))))}}]),t}(n.Component),B=(C=y,function(e){var t=e.isLoading,a=Object(p.a)(e,["isLoading"]);return t?c.a.createElement(O,null):c.a.createElement(C,a)}),D=x,P="".concat(L).concat("/search","?").concat("query=").concat(K,"\n            &").concat("page=","&").concat(w).concat(100);console.log(P);var V=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={results:null,searchKey:"",searchTerm:"javascript",isLoading:!1},a.removeItem=a.removeItem.bind(Object(m.a)(Object(m.a)(a))),a.searchValue=a.searchValue.bind(Object(m.a)(Object(m.a)(a))),a.fetchTopStories=a.fetchTopStories.bind(Object(m.a)(Object(m.a)(a))),a.setTopStories=a.setTopStories.bind(Object(m.a)(Object(m.a)(a))),a.onSubmit=a.onSubmit.bind(Object(m.a)(Object(m.a)(a))),a}return Object(h.a)(t,e),Object(i.a)(t,[{key:"checkTopStoriesSearchTerm",value:function(e){return!this.state.results[e]}},{key:"setTopStories",value:function(e){var t=e.hits,a=e.page;this.setState(function(e,t){return function(a){var n=a.searchKey,c=a.results,r=c&&c[n]?c[n].hits:[],o=[].concat(Object(f.a)(r),Object(f.a)(e));return{results:Object(v.a)({},c,Object(b.a)({},n,{hits:o,page:t})),isLoading:!1}}}(t,a))}},{key:"fetchTopStories",value:function(e,t){var a=this;this.setState({isLoading:!0}),fetch("".concat(L).concat("/search","?").concat("query=").concat(e,"\n      &").concat("page=").concat(t,"&").concat(w).concat(100)).then(function(e){return e.json()}).then(function(e){return a.setTopStories(e)}).catch(function(e){return e})}},{key:"componentDidMount",value:function(){var e=this.state.searchTerm;this.setState({searchKey:e}),this.fetchTopStories(e,0)}},{key:"onSubmit",value:function(e){var t=this.state.searchTerm;this.setState({searchKey:t}),this.checkTopStoriesSearchTerm(t)&&this.fetchTopStories(this.state.searchTerm,0),e.preventDefault()}},{key:"removeItem",value:function(e){var t=this.state,a=t.results,n=t.searchKey,c=a[n],r=c.hits,o=c.page,s=r.filter(function(t){return t.objectID!==e});this.setState({results:Object(v.a)({},a,Object(b.a)({},n,{hits:s,page:o}))})}},{key:"searchValue",value:function(e){this.setState({searchTerm:e.target.value})}},{key:"render",value:function(){var e=this,t=this.state,a=t.results,n=t.searchTerm,r=t.searchKey,o=t.isLoading,s=a&&a[r]&&a[r].page||0,i=a&&a[r]&&a[r].hits||[];return console.log(this),c.a.createElement("div",null,c.a.createElement(d.a,null,c.a.createElement(S.a,null,c.a.createElement(T,{list:i,removeItem:this.removeItem}),c.a.createElement("div",{className:"text-center alert"},c.a.createElement(M,{isLoading:o,className:"btn btn-success",onClick:function(){return e.fetchTopStories(n,s+1)}},"Load more")))))}}]),t}(n.Component),M=function(e){return function(t){var a=t.isLoading,n=Object(p.a)(t,["isLoading"]);return a?c.a.createElement(O,null):c.a.createElement(e,n)}}(y),R=V,W="".concat(L).concat("/search","?").concat("query=").concat(K,"\n            &").concat("page=","&").concat(w).concat(100);console.log(W);var q=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={results:null,searchKey:"",searchTerm:"python",isLoading:!1},a.removeItem=a.removeItem.bind(Object(m.a)(Object(m.a)(a))),a.searchValue=a.searchValue.bind(Object(m.a)(Object(m.a)(a))),a.fetchTopStories=a.fetchTopStories.bind(Object(m.a)(Object(m.a)(a))),a.setTopStories=a.setTopStories.bind(Object(m.a)(Object(m.a)(a))),a.onSubmit=a.onSubmit.bind(Object(m.a)(Object(m.a)(a))),a}return Object(h.a)(t,e),Object(i.a)(t,[{key:"checkTopStoriesSearchTerm",value:function(e){return!this.state.results[e]}},{key:"setTopStories",value:function(e){var t=e.hits,a=e.page;this.setState(function(e,t){return function(a){var n=a.searchKey,c=a.results,r=c&&c[n]?c[n].hits:[],o=[].concat(Object(f.a)(r),Object(f.a)(e));return{results:Object(v.a)({},c,Object(b.a)({},n,{hits:o,page:t})),isLoading:!1}}}(t,a))}},{key:"fetchTopStories",value:function(e,t){var a=this;this.setState({isLoading:!0}),fetch("".concat(L).concat("/search","?").concat("query=").concat(e,"\n      &").concat("page=").concat(t,"&").concat(w).concat(100)).then(function(e){return e.json()}).then(function(e){return a.setTopStories(e)}).catch(function(e){return e})}},{key:"componentDidMount",value:function(){var e=this.state.searchTerm;this.setState({searchKey:e}),this.fetchTopStories(e,0)}},{key:"onSubmit",value:function(e){var t=this.state.searchTerm;this.setState({searchKey:t}),this.checkTopStoriesSearchTerm(t)&&this.fetchTopStories(this.state.searchTerm,0),e.preventDefault()}},{key:"removeItem",value:function(e){var t=this.state,a=t.results,n=t.searchKey,c=a[n],r=c.hits,o=c.page,s=r.filter(function(t){return t.objectID!==e});this.setState({results:Object(v.a)({},a,Object(b.a)({},n,{hits:s,page:o}))})}},{key:"searchValue",value:function(e){this.setState({searchTerm:e.target.value})}},{key:"render",value:function(){var e=this,t=this.state,a=t.results,n=t.searchTerm,r=t.searchKey,o=t.isLoading,s=a&&a[r]&&a[r].page||0,i=a&&a[r]&&a[r].hits||[];return console.log(this),c.a.createElement("div",null,c.a.createElement(d.a,null,c.a.createElement(S.a,null,c.a.createElement(T,{list:i,removeItem:this.removeItem}),c.a.createElement("div",{className:"text-center alert"},c.a.createElement(A,{isLoading:o,className:"btn btn-success",onClick:function(){return e.fetchTopStories(n,s+1)}},"Load more")))))}}]),t}(n.Component),A=function(e){return function(t){var a=t.isLoading,n=Object(p.a)(t,["isLoading"]);return a?c.a.createElement(O,null):c.a.createElement(e,n)}}(y),H=q,J=a(74),U=a(61),_=a(71),F=a(67),$=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function z(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}var G=a(73),Q=a(72),X=a(64);o.a.render(c.a.createElement(function(){return c.a.createElement(J.a,{basename:"/course-react-search-app/"},c.a.createElement("div",null,c.a.createElement(G.a,null,c.a.createElement(G.a.Brand,null,c.a.createElement(U.a,{to:"/"},"NEWSAPP")),c.a.createElement(Q.a,null,c.a.createElement(X.a,null,c.a.createElement(Q.a.Link,null,c.a.createElement(_.a,{exact:!0,to:"/",activeClassName:"active"},"Home"))),c.a.createElement(X.a,null,c.a.createElement(Q.a.Link,null,c.a.createElement(_.a,{to:"/javascript",activeClassName:"active"},"Javascript"))),c.a.createElement(X.a,null,c.a.createElement(Q.a.Link,null,c.a.createElement(_.a,{to:"/python",activeClassName:"active"},"Python"))))),c.a.createElement(F.a,{exact:!0,path:"/",component:D}),c.a.createElement(F.a,{exact:!0,path:"/javascript",component:R}),c.a.createElement(F.a,{exact:!0,path:"/python",component:H})))},null),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("/course-react-search-app.git",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("/course-react-search-app.git","/service-worker.js");$?function(e){fetch(e).then(function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):z(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e):z(e)})}}()}},[[42,2,1]]]);
//# sourceMappingURL=main.ef5c1ed2.chunk.js.map